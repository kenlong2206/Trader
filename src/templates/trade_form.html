<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade Form</title>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1"></script>
    <script src="./chartjs-chart-financial.js" type="text/javascript"></script>
</head>
<body>
    <h2>Submit a New Trade</h2>
    <form method="post" action="/submit_trade">
        <h3>Details</h3>
        <div class="form-group">
            <label for="title" class="required-label">Title:</label>
            <input type="text" id="title" name="title" required>
        </div>
        <div class="form-group">
            <label for="links">Links:</label>
            <input type="text" id="links" name="links">
        </div>
        <div class="form-group">
            <label for="notes">Notes:</label>
            <textarea type="text" id="notes" name="notes"></textarea>
        </div>
        <div class="form-group">
            <label for="strategy">Strategy:</label>
            <input type="text" id="strategy" name="strategy">
        </div>
        <hr>
        <h3>Status</h3>
        <div class="form-group">
            <label for="created_timestamp">Created</label>
            <input type="number" id="created_timestamp" name="created_timestamp">
        </div>
        <div class="form-group">
            <label for="executed_timestamp">Executed</label>
            <input type="number" id="executed_timestamp" name="executed_timestamp">
        </div>
        <div class="form-group">
            <label for="closed_timestamp">Closed</label>
            <input type="number" id="closed_timestamp" name="closed_timestamp">
        </div>
        <h3>Currency</h3>
        <div class="form-group">
            <label for="exchange">Exchange:</label>
            <select id="exchange" name="exchange" required>
                <option value="Binance" selected>Binance</option>
                <option value="Coinbase">Coinbase</option>
                <option value="Kraken">Kraken</option>
            </select>
        </div>
        <div class="form-group">
            <label>Order Type:</label>
            <div>
                <input type="radio" id="limit" name="order_type" value="limit" checked required>
                <label for="limit">Limit</label>
            </div>
            <div>
                <input type="radio" id="market" name="order_type" value="market" required>
                <label for="market">Market</label>
            </div>
            <div>
                <input type="radio" id="stop" name="order_type" value="stop" required>
                <label for="stop">Stop</label>
            </div>
        </div>
        <div class="form-inline">
            <div class="form-group">
                <label for="currency_pair">Currency Pair:</label>
                <select id="currency_pair" name="currency_pair" required>
                    <option value="BTC/USDT">BTC/USDT</option>
                    <option value="ETH/USDT">ETH/USDT</option>
                    <option value="SOL/USDT">SOL/USDT</option>
                </select>
            </div>
            <div id="live_price" class="form-group">
                <!-- Live price will be displayed here -->
            </div>
        </div>
        <div class="chart-container">
            <canvas id="candlestickChart" height="300"></canvas>
        </div>
        <hr>
        <h3>Position</h3>
        <div class="form-group">
            <label for="direction" class="required-label">Long / Short:</label>
            <input type="text" id="direction" name="direction" required>
        </div>
        <div class="form-group">
            <label for="limit_order_price" class="required-label">Limit Order:</label>
            <input type="number" id="limit_order_price" name="limit_order_price" required>
        </div>
        <div class="form-group">
            <label for="take_profit_price" class="required-label">Take Profit:</label>
            <input type="number" id="take_profit_price" name="take_profit_price" required>
        </div>
        <div class="form-group">
            <label for="stop_loss_price" class="required-label">Stop Loss:</label>
            <input type="number" id="stop_loss_price" name="stop_loss_price" required>
        </div>
        <div class="form-group">
            <label for="amount" class="required-label">Amount:</label>
            <input type="number" id="amount" name="amount" required>
        </div>
        <div class="form-group">
            <label for="leverage" class="required-label">Leverage:</label>
            <input type="number" id="leverage" name="leverage" required>
        </div>
        <button type="submit">Submit Trade</button>
    </form>
    <script src="/static/js/trade_form.js"></script>
</body>
</html>
